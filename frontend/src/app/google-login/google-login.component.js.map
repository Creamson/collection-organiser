{"version":3,"file":"google-login.component.js","sourceRoot":"","sources":["google-login.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAA2E;AAC3E,wDAAmD;AAQnD,IAAa,oBAAoB;IAwC/B,8BAAoB,OAAmB;QAAnB,YAAO,GAAP,OAAO,CAAY;QApC/B,UAAK,GAAG;YACd,SAAS;YACT,OAAO;SACR,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAkCV,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1C,IAAI,CAAC,QAAQ,GAAG,uBAAS,CAAC;IAC5B,CAAC;IAjCM,yCAAU,GAAjB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC3B,SAAS,EAAE,IAAI,CAAC,QAAQ;gBACxB,YAAY,EAAE,oBAAoB;gBAClC,KAAK,EAAE,IAAI,CAAC,KAAK;aAClB,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;IACL,CAAC;IACM,2CAAY,GAAnB,UAAoB,OAAO;QACzB,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,OAAO,EAAE,EAAE,EACvC,UAAU,UAAU;YAElB,IAAM,OAAO,GAAG,UAAU,CAAC,eAAe,EAAE,CAAC;YAC7C,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,UAAU,CAAC,eAAe,EAAE,CAAC,QAAQ,CAAC,CAAC;YACjE,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC;YACtC,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;YAC1C,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;YACnD,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC5C,iBAAiB;QAGnB,CAAC,EAAE,UAAU,KAAK;YAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACP,CAAC;IAOD,8CAAe,GAAf;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAGH,2BAAC;AAAD,CAAC,AAlDD,IAkDC;AAlDY,oBAAoB;IALhC,gBAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,WAAW,EAAE,+BAA+B;QAC5C,SAAS,EAAE,CAAC,8BAA8B,CAAC;KAC5C,CAAC;qCAyC6B,iBAAU;GAxC5B,oBAAoB,CAkDhC;AAlDY,oDAAoB","sourcesContent":["import {AfterViewInit, Component, ElementRef, OnInit} from '@angular/core';\r\nimport {CLIENT_ID} from '../../assets/client-info';\r\ndeclare const gapi: any;\r\n\r\n@Component({\r\n  selector: 'google-login',\r\n  templateUrl: './google-login.component.html',\r\n  styleUrls: ['./google-login.component.css']\r\n})\r\nexport class GoogleLoginComponent implements AfterViewInit {\r\n\r\n  private clientId: string;\r\n\r\n  private scope = [\r\n    'profile',\r\n    'email'\r\n  ].join(' ');\r\n\r\n  public auth2: any;\r\n  public googleInit() {\r\n    const that = this;\r\n    gapi.load('auth2', function () {\r\n      that.auth2 = gapi.auth2.init({\r\n        client_id: that.clientId,\r\n        cookiepolicy: 'single_host_origin',\r\n        scope: that.scope\r\n      });\r\n      that.attachSignin(that.element.nativeElement.firstChild);\r\n    });\r\n  }\r\n  public attachSignin(element) {\r\n    const that = this;\r\n    this.auth2.attachClickHandler(element, {},\r\n      function (googleUser) {\r\n\r\n        const profile = googleUser.getBasicProfile();\r\n        console.log('Token || ' + googleUser.getAuthResponse().id_token);\r\n        console.log('ID: ' + profile.getId());\r\n        console.log('Name: ' + profile.getName());\r\n        console.log('Image URL: ' + profile.getImageUrl());\r\n        console.log('Email: ' + profile.getEmail());\r\n        // YOUR CODE HERE\r\n\r\n\r\n      }, function (error) {\r\n        console.log(JSON.stringify(error, undefined, 2));\r\n      });\r\n  }\r\n\r\n  constructor(private element: ElementRef) {\r\n    console.log('ElementRef: ', this.element);\r\n    this.clientId = CLIENT_ID;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.googleInit();\r\n  }\r\n\r\n\r\n}\r\n"]}